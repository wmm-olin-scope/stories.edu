(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var setup;

setup = function() {
  var capitalize, disableInput, doCitySelection, doSchoolSelection, doStateSelection, enableInput, findTransitions, g, getCityHound, getCityInput, getSchoolHound, getSchoolInput, getStateSelect, linkTextFields, makeHound, populateStateOption, stateList;
  g = {};
  capitalize = function(s) {
    var word;
    return ((function() {
      var _i, _len, _ref, _results;
      _ref = s.split(/\s+/);
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        word = _ref[_i];
        _results.push(word[0].toUpperCase() + word.slice(1).toLowerCase());
      }
      return _results;
    })()).join(' ');
  };
  getStateSelect = function() {
    return $('#state');
  };
  getCityInput = function() {
    return $('#city');
  };
  getSchoolInput = function() {
    return $('#school');
  };
  populateStateOption = function() {
    var select, state, _i, _len;
    select = getStateSelect();
    select.empty();
    select.append("<option value=\"\">State</option>");
    for (_i = 0, _len = stateList.length; _i < _len; _i++) {
      state = stateList[_i];
      select.append("<option value=\"" + state + "\">" + state + "</option>");
    }
  };
  stateList = ['AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'DC', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY', 'AS', 'GU', 'MP', 'PR', 'VI'];
  enableInput = function(input, placeholder) {
    return input.attr('disabled', false).val('').attr('placeholder', placeholder);
  };
  disableInput = function(input, placeholder) {
    input.typeahead('destroy');
    return input.attr('disabled', true).val('').attr('placeholder', placeholder);
  };
  findTransitions = {
    state: function() {
      getStateSelect().val('');
      disableInput(getCityInput(), 'Select a state first...');
      disableInput(getSchoolInput(), 'Select a state first...');
      return doStateSelection();
    },
    city: function(state) {
      enableInput(getCityInput(), 'City');
      disableInput(getSchoolInput(), 'Select a city first...');
      return doCitySelection(state);
    },
    school: function(state, city) {
      enableInput(getSchoolInput(), 'School');
      return doSchoolSelection(state, city);
    }
  };
  doStateSelection = function() {
    var oldState;
    oldState = null;
    getStateSelect().off('change');
    return getStateSelect().change(function() {
      var state;
      state = getStateSelect().val();
      if (state === '') {
        findTransitions.state();
      } else if (state !== oldState) {
        findTransitions.city(state);
      }
      return oldState = state;
    });
  };
  makeHound = function(options) {
    var accessor, filter, hound, url;
    url = options.url, filter = options.filter, accessor = options.accessor;
    hound = new Bloodhound({
      datumTokenizer: function(d) {
        return Bloodhound.tokenizers.whitespace(accessor(d));
      },
      queryTokenizer: Bloodhound.tokenizers.whitespace,
      prefetch: {
        url: url,
        filter: filter,
        ttl: 0
      }
    });
    hound.initialize();
    return hound;
  };
  getCityHound = function(state) {
    return makeHound({
      url: "/schools/cities/" + state,
      filter: function(cities) {
        var city, _i, _len, _results;
        _results = [];
        for (_i = 0, _len = cities.length; _i < _len; _i++) {
          city = cities[_i];
          _results.push({
            name: city,
            display: capitalize(city)
          });
        }
        return _results;
      },
      accessor: function(city) {
        return city.name;
      }
    });
  };
  doCitySelection = function(state) {
    var hound, input;
    hound = getCityHound(state);
    input = getCityInput();
    input.typeahead('destroy');
    input.typeahead(null, {
      name: 'cities',
      displayKey: 'display',
      source: hound.ttAdapter()
    });
    input.focus();
    input.off('typeahead:selected');
    return input.on('typeahead:selected', function(obj, city) {
      return findTransitions.school(state, city);
    });
  };
  getSchoolHound = function(state, city) {
    return makeHound({
      url: "/schools/by-city/" + state + "/" + (encodeURIComponent(city.name)),
      filter: function(schools) {
        var school, _i, _len;
        for (_i = 0, _len = schools.length; _i < _len; _i++) {
          school = schools[_i];
          school.display = capitalize(school.name);
        }
        return schools;
      },
      accessor: function(school) {
        return school.name;
      }
    });
  };
  doSchoolSelection = function(state, city) {
    var hound, input;
    hound = getSchoolHound(state, city);
    input = getSchoolInput();
    input.typeahead('destroy');
    input.typeahead(null, {
      name: 'schools',
      displayKey: 'display',
      source: hound.ttAdapter()
    });
    input.focus();
    input.off('typeahead:selected');
    return input.on('typeahead:selected', function(obj, school) {
      g.school = school;
      return console.log(g.school);
    });
  };
  $('#video-button-desktop').click(function() {
    console.log('click on vid buttn');
    $('#video-modal').modal();
    if (window.VIDRECORDER == null) {
      window.VIDRECORDER = {};
    }
    window.VIDRECORDER.close = function() {
      return $('#video-modal').modal('hide');
    };
    return console.log('attached handler');
  });
  linkTextFields = function(field1, field2) {
    $(field1).keyup(function() {
      return $(field2).val($(field1).val());
    });
    return $(field2).keyup(function() {
      return $(field1).val($(field2).val());
    });
  };
  linkTextFields('#teacher_name', '#mailto_name');
  linkTextFields('#author_name', '#return_name');
  linkTextFields('#author_role', '#mailto_role');
  $('#mailto_school, #mailto_city_state, #mailto_street').focus(function() {
    $('#school_modal').modal('show');
  });
  $('#modal_submit').click(function() {
    $('#school_modal').modal('hide');
    console.log(g.school);
    if (g.school !== void 0) {
      $('#mailto_school').val(capitalize(g.school.name));
      $('#mailto_street').val(capitalize(g.school.mailingAddress));
      return $('#mailto_city_state').val("" + (capitalize(g.school.city)) + ", " + g.school.state + " " + g.school.zip);
    }
  });
  $('#send_button').click(function() {
    var contents, _ref, _ref1;
    contents = {
      message: $('#freetext').val(),
      recipientFullName: $('#teacher_name').val(),
      recipientRole: $('#teacher_role').val(),
      authorFullName: $('#author_name').val(),
      authorRole: $('#author_role').val(),
      authorEmail: $('@return_email').val(),
      anonymous: $('#checkbox_input').is(':checked'),
      schoolId: (_ref = g.school) != null ? _ref._id : void 0,
      schoolType: (_ref1 = g.school) != null ? _ref1.schoolType : void 0,
      youtubeId: $('#youtube_id').val()
    };
    console.log(contents);
    return $.post('/postcards', contents).done(function(result) {
      return console.log(result);
    }).fail(function(err) {
      return console.log(err);
    });
  });
  populateStateOption();
  return findTransitions.state();
};

$(function() {
  require('../share-buttons').setup();
  require('./video-upload').setup();
  return setup();
});


},{"../share-buttons":3,"./video-upload":2}],2:[function(require,module,exports){
var auth, config, constants, does_meet_requirements, utils, webcam,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

config = {
  OAUTH2_CLIENT_ID: '40051200930.apps.googleusercontent.com',
  DEVELOPER_KEY: '40051200930.apps.googleusercontent.com',
  VIDEO_CATEGORY: 'Education'
};

constants = {
  CATEGORIES_CACHE_EXPIRATION_MINUTES: 3 * 24 * 60,
  CATEGORIES_CACHE_KEY: 'categories',
  DISPLAY_NAME_CACHE_KEY: 'display_name',
  UPLOADS_LIST_ID_CACHE_KEY: 'uploads_list_id',
  PROFILE_PICTURE_CACHE_KEY: 'profile_picture',
  GENERIC_PROFILE_PICTURE_URL: '//s.ytimg.com/yt/img/no_videos_140-vfl1fDI7-.png',
  OAUTH2_TOKEN_TYPE: 'Bearer',
  OAUTH2_SCOPE: 'https://gdata.youtube.com',
  GDATA_SERVER: 'https://gdata.youtube.com',
  CLIENT_LIB_LOAD_CALLBACK: 'onClientLibReady',
  CLIENT_LIB_URL: 'https://apis.google.com/js/client.js?onload=',
  YOUTUBE_API_SERVICE_NAME: 'youtube',
  YOUTUBE_API_VERSION: 'v3',
  PAGE_SIZE: 50,
  MAX_ITEMS_TO_RETRIEVE: 200,
  FEED_CACHE_MINUTES: 5,
  STATE_CACHE_MINUTES: 15,
  MAX_KEYWORD_LENGTH: 30,
  KEYWORD_UPDATE_XML_TEMPLATE: '<?xml version="1.0"?> <entry xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:yt="http://gdata.youtube.com/schemas/2007" xmlns:gd="http://schemas.google.com/g/2005" gd:fields="media:group/media:keywords"> <media:group> <media:keywords>{0}</media:keywords> </media:group> </entry>',
  WIDGET_EMBED_CODE: '<iframe width="420" height="500" src="{0}#playlist={1}"></iframe>',
  PLAYLIST_EMBED_CODE: '<iframe width="640" height="360" src="//www.youtube.com/embed/?listType=playlist&list={0}&showinfo=1" frameborder="0" allowfullscreen></iframe>',
  SUBMISSION_RSS_FEED: 'https://gdata.youtube.com/feeds/api/videos?v=2&alt=rss&orderby=published&category=%7Bhttp%3A%2F%2Fgdata.youtube.com%2Fschemas%2F2007%2Fkeywords.cat%7D{0}',
  DEFAULT_KEYWORD: 'ytdl',
  WEBCAM_VIDEO_TITLE: 'Webcam Submission',
  WEBCAM_VIDEO_DESCRIPTION: 'Uploaded via a webcam.',
  REJECTED_VIDEOS_PLAYLIST: 'Rejected YTDL Submissions',
  NO_THUMBNAIL_URL: '//i.ytimg.com/vi/hqdefault.jpg',
  VIDEO_CONTAINER_TEMPLATE: '<li><div class="video-container {additionalClass}"><input type="button" class="submit-video-button" value="Submit Video"><div><span class="video-title">{title}</span><span class="video-duration">({duration})</span></div><div class="video-uploaded">Uploaded on {uploadedDate}</div><div class="thumbnail-container" data-video-id="{videoId}"><img src="{thumbnailUrl}" class="thumbnail-image"><img src="images/play.png" class="play-overlay"></div></div></li>',
  VIDEO_LI_TEMPLATE: '<li><div class="video-container {0}"><input type="button" class="submit-video-button" data-video-id="{1}" data-existing-keywords="{2}" value="Submit Video"><div><span class="video-title">{3}</span><span class="video-duration">({5})</span></div><div class="video-uploaded">Uploaded on {4}</div><div class="thumbnail-container" data-video-id="{1}"><img src="{6}" class="thumbnail-image"><img src="./images/play.png" class="play-overlay"></div></div></li>',
  ADMIN_VIDEO_LI_TEMPLATE: '<li><div class="video-container">{buttonsHtml}<div><span class="video-title">{title}</span><span class="video-duration">({duration})</span></div><div class="video-uploaded">Uploaded on {uploadedDate} by {uploader}</div><div class="thumbnail-container" data-video-id="{videoId}"><img src="{thumbnailUrl}" class="thumbnail-image"><img src="./images/play.png" class="play-overlay"></div></div></li>',
  PLAYLIST_LI_TEMPLATE: '<li data-playlist-name="{playlistName}" data-state="embed-codes" data-playlist-id="{playlistId}">{playlistName}</li>'
};

webcam = {
  init: function() {
    if ((typeof YT === "undefined" || YT === null) || (YT.UploadWidget == null)) {
      window.onYouTubeIframeAPIReady = function() {
        return webcam.loadUploadWidget();
      };
      return $.getScript('//www.youtube.com/iframe_api');
    } else {
      return webcam.loadUploadWidget();
    }
  },
  loadUploadWidget: function() {
    return new YT.UploadWidget('webcam-widget', {
      webcamOnly: true,
      events: {
        onApiReady: function(event) {
          event.target.setVideoTitle(config.VIDEO_TITLE || constants.WEBCAM_VIDEO_TITLE);
          return event.target.setVideoDescription(config.VIDEO_DESCRIPTION || constants.WEBCAM_VIDEO_DESCRIPTION);
        },
        onUploadSuccess: function(event) {
          console.log("Webcam submission success!");
          console.log(event);
          $('#youtube_id').val(event.data.videoId);
          return window.VIDRECORDER.close();
        },
        onStateChange: function(event) {
          if (event.data.state === YT.UploadWidgetState.ERROR) {
            return console.error("Webcam submission error!");
          }
        }
      }
    });
  }
};

utils = {
  itemsInResponse: function(response) {
    return __indexOf.call(response, 'items') >= 0 && response.items.length > 0;
  }
};

auth = {
  initAuth: function() {
    window[constants.CLIENT_LIB_LOAD_CALLBACK] = function() {
      return gapi.auth.init(function() {
        if (lscache.get(constants.DISPLAY_NAME_CACHE_KEY)) {
          window.setTimeout(function() {
            return gapi.auth.authorize({
              client_id: config.OAUTH2_CLIENT_ID,
              scope: [constants.OAUTH2_SCOPE],
              immediate: true
            }, auth.onAuthResult);
          }, 1);
          return console.log('auth script launched');
        } else {
          return console.log('requesting YT login');
        }
      });
    };
    return $.getScript(constants.CLIENT_LIB_URL + constants.CLIENT_LIB_LOAD_CALLBACK);
  },
  onAuthResult: function(authResult) {
    if (authResult) {
      console.log('Got auth result', authResult);
      return gapi.client.load(constants.YOUTUBE_API_SERVICE_NAME, constants.YOUTUBE_API_VERSION, auth.onYouTubeClientLoad);
    } else {
      console.log('Auth failed');
      return lscache.flush();
    }
  },
  onYouTubeClientLoad: function() {
    var request;
    console.log('Youtube client loaded!');
    if (lscache.get(constants.DISPLAY_NAME_CACHE_KEY)) {

    } else {
      request = gapi.client[constants.YOUTUBE_API_SERVICE_NAME].channels.list({
        mine: true,
        part: 'snippet,contentDetails,status'
      });
      return request.execute(function(response) {
        if (utils.itemsInResponse(response)) {
          if (response.items[0].status.isLinked) {
            lscache.set(constants.UPLOADS_LIST_ID_CACHE_KEY, response.items[0].contentDetails.relatedPlaylists.uploads);
            lscache.set(constants.DISPLAY_NAME_CACHE_KEY, response.items[0].snippet.title);
            return lscache.set(constants.PROFILE_PICTURE_CACHE_KEY, response.items[0].snippet.thumbnails["default"].url);
          } else {
            return console.error('Your account cannot upload videos. Please visit <a target="_blank" href="https://www.youtube.com/signin?next=/create_channel">https://www.youtube.com/signin?next=/create_channel</a> to add a YouTube channel to your account, and try again.');
          }
        } else {
          console.log(response);
          return console.error("Unable to retrieve channel info.");
        }
      });
    }
  }
};

does_meet_requirements = function() {
  if (!$.support.cors) {
    console.error("Browser not supported!");
    return false;
  } else {
    return true;
  }
};

exports.setup = function() {
  if (!config.OAUTH2_CLIENT_ID || !config.DEVELOPER_KEY) {
    return console.log("NOT CONFIGURED!");
  } else {
    console.log("Configured!");
    if (does_meet_requirements) {
      auth.initAuth();
      return webcam.init();
    }
  }
};


},{}],3:[function(require,module,exports){
var setupFacebook, setupTwitter, siteUrl;

siteUrl = 'http://www.thank-a-teacher.org';

setupFacebook = function() {
  $.getScript('//connect.facebook.net/en_UK/all.js', function() {
    return FB.init({
      appId: '1444954685735176'
    });
  });
  return $('#share-facebook').click(function() {
    return FB.ui({
      method: 'feed',
      link: siteUrl,
      caption: 'Thank a teacher!'
    });
  });
};

setupTwitter = function() {
  var encoded, twitterUrl;
  encoded = encodeURIComponent(siteUrl);
  twitterUrl = "https://twitter.com/share?url=" + encoded + "&via=wmmedu";
  return $('#share-twitter').attr('href', twitterUrl).attr('target', '_blank');
};

exports.setup = function() {
  setupFacebook();
  return setupTwitter();
};


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvVXNlcnMvSnVsaWFuYS9Eb2N1bWVudHMvcmVwb3Mvc3Rvcmllcy5lZHUvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9KdWxpYW5hL0RvY3VtZW50cy9yZXBvcy9zdG9yaWVzLmVkdS9jbGllbnQvanMvcG9zdGNhcmQvbWFrZS5jb2ZmZWUiLCIvVXNlcnMvSnVsaWFuYS9Eb2N1bWVudHMvcmVwb3Mvc3Rvcmllcy5lZHUvY2xpZW50L2pzL3Bvc3RjYXJkL3ZpZGVvLXVwbG9hZC5jb2ZmZWUiLCIvVXNlcnMvSnVsaWFuYS9Eb2N1bWVudHMvcmVwb3Mvc3Rvcmllcy5lZHUvY2xpZW50L2pzL3NoYXJlLWJ1dHRvbnMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQ0EsSUFBQSxLQUFBOztBQUFBLEtBQUEsR0FBUSxTQUFBLEdBQUE7QUFDSixNQUFBLHNQQUFBO0FBQUEsRUFBQSxDQUFBLEdBQUksRUFBSixDQUFBO0FBQUEsRUFFQSxVQUFBLEdBQWEsU0FBQyxDQUFELEdBQUE7QUFDVCxRQUFBLElBQUE7V0FBQTs7QUFBQztBQUFBO1dBQUEsMkNBQUE7d0JBQUE7QUFBQSxzQkFBQSxJQUFLLENBQUEsQ0FBQSxDQUFFLENBQUMsV0FBUixDQUFBLENBQUEsR0FBd0IsSUFBSyxTQUFLLENBQUMsV0FBWCxDQUFBLEVBQXhCLENBQUE7QUFBQTs7UUFBRCxDQUE0RSxDQUFDLElBQTdFLENBQWtGLEdBQWxGLEVBRFM7RUFBQSxDQUZiLENBQUE7QUFBQSxFQUtBLGNBQUEsR0FBaUIsU0FBQSxHQUFBO1dBQUcsQ0FBQSxDQUFFLFFBQUYsRUFBSDtFQUFBLENBTGpCLENBQUE7QUFBQSxFQU1BLFlBQUEsR0FBZSxTQUFBLEdBQUE7V0FBRyxDQUFBLENBQUUsT0FBRixFQUFIO0VBQUEsQ0FOZixDQUFBO0FBQUEsRUFPQSxjQUFBLEdB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QUFBLENBQUE7U0FDQSxZQUFBLENBQUEsRUFGWTtBQUFBLENBbkJoQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcbnNldHVwID0gLT5cbiAgICBnID0ge31cblxuICAgIGNhcGl0YWxpemUgPSAocykgLT5cbiAgICAgICAgKHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmRbMS4uLl0udG9Mb3dlckNhc2UoKSBmb3Igd29yZCBpbiBzLnNwbGl0IC9cXHMrLykuam9pbiAnICdcblxuICAgIGdldFN0YXRlU2VsZWN0ID0gLT4gJCAnI3N0YXRlJ1xuICAgIGdldENpdHlJbnB1dCA9IC0+ICQgJyNjaXR5J1xuICAgIGdldFNjaG9vbElucHV0ID0gLT4gJCAnI3NjaG9vbCdcblxuICAgIHBvcHVsYXRlU3RhdGVPcHRpb24gPSAtPlxuICAgICAgICBzZWxlY3QgPSBnZXRTdGF0ZVNlbGVjdCgpXG4gICAgICAgIHNlbGVjdC5lbXB0eSgpXG4gICAgICAgIHNlbGVjdC5hcHBlbmQgXCI8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPlN0YXRlPC9vcHRpb24+XCJcbiAgICAgICAgZm9yIHN0YXRlIGluIHN0YXRlTGlzdFxuICAgICAgICAgICAgc2VsZWN0LmFwcGVuZCBcIjxvcHRpb24gdmFsdWU9XFxcIiN7c3RhdGV9XFxcIj4je3N0YXRlfTwvb3B0aW9uPlwiXG4gICAgICAgIHJldHVyblxuXG4gICAgIHN0YXRlTGlzdCA9IFtcbiAgICAgICAgJ0FMJywnQUsnLCdBWicsJ0FSJywnQ0EnLCdDTycsJ0NUJywnREUnLCdEQycsJ0ZMJywnR0EnLCdISScsJ0lEJywnSUwnLFxuICAgICAgICAnSU4nLCdJQScsJ0tTJywnS1knLCdMQScsJ01FJywnTUQnLCdNQScsJ01JJywnTU4nLCdNUycsJ01PJywnTVQnLCdORScsXG4gICAgICAgICdOVicsJ05IJywnTkonLCdOTScsJ05ZJywnTkMnLCdORCcsJ09IJywnT0snLCdPUicsJ1BBJywnUkknLCdTQycsJ1NEJyxcbiAgICAgICAgJ1ROJywnVFgnLCdVVCcsJ1ZUJywnVkEnLCdXQScsJ1dWJywnV0knLCdXWScsJ0FTJywnR1UnLCdNUCcsJ1BSJywnVkknXVxuXG4gICAgZW5hYmxlSW5wdXQgPSAoaW5wdXQsIHBsYWNlaG9sZGVyKSAtPiBcbiAgICAgICAgaW5wdXQuYXR0cignZGlzYWJsZWQnLCBubykudmFsKCcnKS5hdHRyKCdwbGFjZWhvbGRlcicsIHBsYWNlaG9sZGVyKVxuICAgIGRpc2FibGVJbnB1dCA9IChpbnB1dCwgcGxhY2Vob2xkZXIpIC0+XG4gICAgICAgIGlucHV0LnR5cGVhaGVhZCAnZGVzdHJveSdcbiAgICAgICAgaW5wdXQuYXR0cignZGlzYWJsZWQnLCB5ZXMpLnZhbCgnJykuYXR0cigncGxhY2Vob2xkZXInLCBwbGFjZWhvbGRlcilcblxuICAgIGZpbmRUcmFuc2l0aW9ucyA9XG4gICAgICAgIHN0YXRlOiAtPlxuICAgICAgICAgICAgZ2V0U3RhdGVTZWxlY3QoKS52YWwgJydcbiAgICAgICAgICAgIGRpc2FibGVJbnB1dCBnZXRDaXR5SW5wdXQoKSwgJ1NlbGVjdCBhIHN0YXRlIGZpcnN0Li4uJ1xuICAgICAgICAgICAgZGlzYWJsZUlucHV0IGdldFNjaG9vbElucHV0KCksICdTZWxlY3QgYSBzdGF0ZSBmaXJzdC4uLidcbiAgICAgICAgICAgIGRvU3RhdGVTZWxlY3Rpb24oKVxuICAgICAgICBjaXR5OiAoc3RhdGUpIC0+XG4gICAgICAgICAgICBlbmFibGVJbnB1dCBnZXRDaXR5SW5wdXQoKSwgJ0NpdHknXG4gICAgICAgICAgICBkaXNhYmxlSW5wdXQgZ2V0U2Nob29sSW5wdXQoKSwgJ1NlbGVjdCBhIGNpdHkgZmlyc3QuLi4nXG4gICAgICAgICAgICBkb0NpdHlTZWxlY3Rpb24gc3RhdGVcbiAgICAgICAgc2Nob29sOiAoc3RhdGUsIGNpdHkpIC0+XG4gICAgICAgICAgICBlbmFibGVJbnB1dCBnZXRTY2hvb2xJbnB1dCgpLCAnU2Nob29sJ1xuICAgICAgICAgICAgZG9TY2hvb2xTZWxlY3Rpb24gc3RhdGUsIGNpdHlcblxuICAgIGRvU3RhdGVTZWxlY3Rpb24gPSAtPlxuICAgICAgICBvbGRTdGF0ZSA9IG51bGxcbiAgICAgICAgZ2V0U3RhdGVTZWxlY3QoKS5vZmYgJ2NoYW5nZSdcbiAgICAgICAgZ2V0U3RhdGVTZWxlY3QoKS5jaGFuZ2UgLT5cbiAgICAgICAgICAgIHN0YXRlID0gZ2V0U3RhdGVTZWxlY3QoKS52YWwoKVxuICAgICAgICAgICAgaWYgc3RhdGUgaXMgJydcbiAgICAgICAgICAgICAgICBmaW5kVHJhbnNpdGlvbnMuc3RhdGUoKVxuICAgICAgICAgICAgZWxzZSBpZiBzdGF0ZSBpc250IG9sZFN0YXRlXG4gICAgICAgICAgICAgICAgZmluZFRyYW5zaXRpb25zLmNpdHkgc3RhdGVcbiAgICAgICAgICAgIG9sZFN0YXRlID0gc3RhdGVcblxuICAgIG1ha2VIb3VuZCA9IChvcHRpb25zKSAtPlxuICAgICAgICB7dXJsLCBmaWx0ZXIsIGFjY2Vzc29yfSA9IG9wdGlvbnNcbiAgICAgICAgaG91bmQgPSBuZXcgQmxvb2Rob3VuZFxuICAgICAgICAgICAgZGF0dW1Ub2tlbml6ZXI6IChkKSAtPiBcbiAgICAgICAgICAgICAgICBCbG9vZGhvdW5kLnRva2VuaXplcnMud2hpdGVzcGFjZSBhY2Nlc3NvciBkXG4gICAgICAgICAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2VcbiAgICAgICAgICAgIHByZWZldGNoOlxuICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXJcbiAgICAgICAgICAgICAgICB0dGw6IDAgIyBUT0RPOiB3aGVuIGluIHByb2R1Y3Rpb24gc2V0IHRvIGxvbmdlclxuICAgICAgICBob3VuZC5pbml0aWFsaXplKClcbiAgICAgICAgaG91bmRcblxuICAgIGdldENpdHlIb3VuZCA9IChzdGF0ZSkgLT4gbWFrZUhvdW5kXG4gICAgICAgIHVybDogXCIvc2Nob29scy9jaXRpZXMvI3tzdGF0ZX1cIlxuICAgICAgICBmaWx0ZXI6IChjaXRpZXMpIC0+IFxuICAgICAgICAgICAge25hbWU6IGNpdHksIGRpc3BsYXk6IGNhcGl0YWxpemUgY2l0eX0gZm9yIGNpdHkgaW4gY2l0aWVzXG4gICAgICAgIGFjY2Vzc29yOiAoY2l0eSkgLT4gY2l0eS5uYW1lXG5cbiAgICBkb0NpdHlTZWxlY3Rpb24gPSAoc3RhdGUpIC0+XG4gICAgICAgIGhvdW5kID0gZ2V0Q2l0eUhvdW5kIHN0YXRlXG4gICAgICAgIGlucHV0ID0gZ2V0Q2l0eUlucHV0KClcblxuICAgICAgICBpbnB1dC50eXBlYWhlYWQgJ2Rlc3Ryb3knXG4gICAgICAgIGlucHV0LnR5cGVhaGVhZCBudWxsLFxuICAgICAgICAgICAgbmFtZTogJ2NpdGllcydcbiAgICAgICAgICAgIGRpc3BsYXlLZXk6ICdkaXNwbGF5J1xuICAgICAgICAgICAgc291cmNlOiBob3VuZC50dEFkYXB0ZXIoKVxuICAgICAgICBpbnB1dC5mb2N1cygpXG5cbiAgICAgICAgaW5wdXQub2ZmICd0eXBlYWhlYWQ6c2VsZWN0ZWQnXG4gICAgICAgIGlucHV0Lm9uICd0eXBlYWhlYWQ6c2VsZWN0ZWQnLCAob2JqLCBjaXR5KSAtPiBcbiAgICAgICAgICAgIGZpbmRUcmFuc2l0aW9ucy5zY2hvb2wgc3RhdGUsIGNpdHlcblxuICAgIGdldFNjaG9vbEhvdW5kID0gKHN0YXRlLCBjaXR5KSAtPiBtYWtlSG91bmRcbiAgICAgICAgdXJsOiBcIi9zY2hvb2xzL2J5LWNpdHkvI3tzdGF0ZX0vI3tlbmNvZGVVUklDb21wb25lbnQgY2l0eS5uYW1lfVwiXG4gICAgICAgIGZpbHRlcjogKHNjaG9vbHMpIC0+XG4gICAgICAgICAgICBmb3Igc2Nob29sIGluIHNjaG9vbHNcbiAgICAgICAgICAgICAgICBzY2hvb2wuZGlzcGxheSA9IGNhcGl0YWxpemUgc2Nob29sLm5hbWVcbiAgICAgICAgICAgIHNjaG9vbHNcbiAgICAgICAgYWNjZXNzb3I6IChzY2hvb2wpIC0+IHNjaG9vbC5uYW1lXG5cbiAgICBkb1NjaG9vbFNlbGVjdGlvbiA9IChzdGF0ZSwgY2l0eSkgLT5cbiAgICAgICAgaG91bmQgPSBnZXRTY2hvb2xIb3VuZCBzdGF0ZSwgY2l0eVxuICAgICAgICBpbnB1dCA9IGdldFNjaG9vbElucHV0KClcblxuICAgICAgICBpbnB1dC50eXBlYWhlYWQgJ2Rlc3Ryb3knXG4gICAgICAgIGlucHV0LnR5cGVhaGVhZCBudWxsLFxuICAgICAgICAgICAgbmFtZTogJ3NjaG9vbHMnXG4gICAgICAgICAgICBkaXNwbGF5S2V5OiAnZGlzcGxheSdcbiAgICAgICAgICAgIHNvdXJjZTogaG91bmQudHRBZGFwdGVyKClcbiAgICAgICAgaW5wdXQuZm9jdXMoKVxuXG4gICAgICAgIGlucHV0Lm9mZiAndHlwZWFoZWFkOnNlbGVjdGVkJ1xuICAgICAgICBpbnB1dC5vbiAndHlwZWFoZWFkOnNlbGVjdGVkJywgKG9iaiwgc2Nob29sKSAtPiBcbiAgICAgICAgICAgIGcuc2Nob29sID0gc2Nob29sXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBnLnNjaG9vbFxuXG4gICAgJCgnI3ZpZGVvLWJ1dHRvbi1kZXNrdG9wJykuY2xpY2sgLT5cbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIG9uIHZpZCBidXR0bicpXG4gICAgICAgICQoJyN2aWRlby1tb2RhbCcpLm1vZGFsKClcbiAgICAgICAgaWYgbm90IHdpbmRvdy5WSURSRUNPUkRFUj9cbiAgICAgICAgICAgIHdpbmRvdy5WSURSRUNPUkRFUiA9IHt9XG4gICAgICAgIHdpbmRvdy5WSURSRUNPUkRFUi5jbG9zZSA9ICgpIC0+ICQoJyN2aWRlby1tb2RhbCcpLm1vZGFsKCdoaWRlJylcbiAgICAgICAgY29uc29sZS5sb2coJ2F0dGFjaGVkIGhhbmRsZXInKVxuXG4gICAgbGlua1RleHRGaWVsZHMgPSAoZmllbGQxLCBmaWVsZDIpIC0+XG4gICAgICAgICQoZmllbGQxKS5rZXl1cCAtPiAkKGZpZWxkMikudmFsICQoZmllbGQxKS52YWwoKVxuICAgICAgICAkKGZpZWxkMikua2V5dXAgLT4gJChmaWVsZDEpLnZhbCAkKGZpZWxkMikudmFsKClcblxuICAgIGxpbmtUZXh0RmllbGRzICcjdGVhY2hlcl9uYW1lJywgJyNtYWlsdG9fbmFtZSdcbiAgICBsaW5rVGV4dEZpZWxkcyAnI2F1dGhvcl9uYW1lJywgJyNyZXR1cm5fbmFtZSdcbiAgICBsaW5rVGV4dEZpZWxkcyAnI2F1dGhvcl9yb2xlJywgJyNtYWlsdG9fcm9sZSdcblxuICAgICQoJyNtYWlsdG9fc2Nob29sLCAjbWFpbHRvX2NpdHlfc3RhdGUsICNtYWlsdG9fc3RyZWV0JykuZm9jdXMgLT5cbiAgICAgICAgJCgnI3NjaG9vbF9tb2RhbCcpLm1vZGFsKCdzaG93JylcbiAgICAgICAgcmV0dXJuXG5cbiAgICAkKCcjbW9kYWxfc3VibWl0JykuY2xpY2sgLT5cbiAgICAgICAgJCgnI3NjaG9vbF9tb2RhbCcpLm1vZGFsKCdoaWRlJylcbiAgICAgICAgY29uc29sZS5sb2cgZy5zY2hvb2xcbiAgICAgICAgaWYgZy5zY2hvb2wgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAkKCcjbWFpbHRvX3NjaG9vbCcpLnZhbCBjYXBpdGFsaXplIGcuc2Nob29sLm5hbWVcbiAgICAgICAgICAgICQoJyNtYWlsdG9fc3RyZWV0JykudmFsIGNhcGl0YWxpemUgZy5zY2hvb2wubWFpbGluZ0FkZHJlc3NcbiAgICAgICAgICAgICQoJyNtYWlsdG9fY2l0eV9zdGF0ZScpLnZhbCBcIiN7Y2FwaXRhbGl6ZSBnLnNjaG9vbC5jaXR5fSwgI3tnLnNjaG9vbC5zdGF0ZX0gI3tnLnNjaG9vbC56aXB9XCJcblxuICAgICQoJyNzZW5kX2J1dHRvbicpLmNsaWNrIC0+XG4gICAgICAgIGNvbnRlbnRzID1cbiAgICAgICAgICAgIG1lc3NhZ2U6ICQoJyNmcmVldGV4dCcpLnZhbCgpXG4gICAgICAgICAgICByZWNpcGllbnRGdWxsTmFtZTogJCgnI3RlYWNoZXJfbmFtZScpLnZhbCgpXG4gICAgICAgICAgICByZWNpcGllbnRSb2xlOiAkKCcjdGVhY2hlcl9yb2xlJykudmFsKClcbiAgICAgICAgICAgIGF1dGhvckZ1bGxOYW1lOiAkKCcjYXV0aG9yX25hbWUnKS52YWwoKVxuICAgICAgICAgICAgYXV0aG9yUm9sZTogJCgnI2F1dGhvcl9yb2xlJykudmFsKClcbiAgICAgICAgICAgIGF1dGhvckVtYWlsOiAkKCdAcmV0dXJuX2VtYWlsJykudmFsKClcbiAgICAgICAgICAgIGFub255bW91czogJCgnI2NoZWNrYm94X2lucHV0JykuaXMgJzpjaGVja2VkJ1xuICAgICAgICAgICAgc2Nob29sSWQ6IGcuc2Nob29sPy5faWRcbiAgICAgICAgICAgIHNjaG9vbFR5cGU6IGcuc2Nob29sPy5zY2hvb2xUeXBlXG4gICAgICAgICAgICB5b3V0dWJlSWQ6ICQoJyN5b3V0dWJlX2lkJykudmFsKClcbiAgICAgICAgY29uc29sZS5sb2coY29udGVudHMpXG4gICAgICAgICQucG9zdCAnL3Bvc3RjYXJkcycsIGNvbnRlbnRzXG4gICAgICAgICAgICAuZG9uZSAocmVzdWx0KSAtPiBjb25zb2xlLmxvZyByZXN1bHRcbiAgICAgICAgICAgIC5mYWlsIChlcnIpIC0+IGNvbnNvbGUubG9nIGVyclxuICAgIFxuICAgIHBvcHVsYXRlU3RhdGVPcHRpb24oKVxuICAgIGZpbmRUcmFuc2l0aW9ucy5zdGF0ZSgpXG5cbiQgLT5cbiAgICByZXF1aXJlKCcuLi9zaGFyZS1idXR0b25zJykuc2V0dXAoKVxuICAgIHJlcXVpcmUoJy4vdmlkZW8tdXBsb2FkJykuc2V0dXAoKVxuICAgIHNldHVwKCkiLCJjb25maWcgPVxuICAgICMgUkVRVUlSRURcbiAgICAjIFNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hcGktY2xpZW50LWxpYnJhcnkvamF2YXNjcmlwdC9mZWF0dXJlcy9hdXRoZW50aWNhdGlvblxuICAgICMgZm9yIGluc3RydWN0aW9ucyBvbiByZWdpc3RlcmluZyBmb3IgT0F1dGggMi5cbiAgICAjIEFmdGVyIGdlbmVyYXRpbmcgeW91ciBPQXV0aCAyIGNsaWVudCBpZCwgeW91IE1VU1QgdGhlbiB2aXNpdCB0aGUgXCJTZXJ2aWNlc1wiIHRhYiBvZlxuICAgICMgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vYXBpcy9jb25zb2xlLyBmaW5kIHRoZSBlbnRyeSBmb3IgXCJZb3VUdWJlIERhdGEgQVBJIHYzXCJcbiAgICAjIGFuZCBmbGlwIGl0IHRvIFwiT05cIi5cbiAgICBPQVVUSDJfQ0xJRU5UX0lEOiAnNDAwNTEyMDA5MzAuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nXG5cbiAgICAjIFJFUVVJUkVEXG4gICAgIyBSZWdpc3RlciBhdCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9hcGlzL3lvdXR1YmUvZGFzaGJvYXJkL2d3dC9pbmRleC5odG1sIHRvIGdldCB5b3VyIG93biBrZXkuXG4gICAgREVWRUxPUEVSX0tFWTogJzQwMDUxMjAwOTMwLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJ1xuXG4gICAgIyBJZiB5b3UnZCBsaWtlIHRvIGVuYWJsZSBHb29nbGUgQW5hbHl0aWNzIHN0YXRpc3RpY3MgdG8geW91ciBZb3VUdWJlIERpcmVjdCBMaXRlIGluc3RhbmNlLFxuICAgICMgcmVnaXN0ZXIgZm9yIGEgR29vZ2xlIEFuYWx5dGljcyBhY2NvdW50IGFuZCBlbnRlciB5b3VyIGlkIGNvZGUgYmVsb3cuXG4gICAgIyxHT09HTEVfQU5BTFlUSUNTX0lEOiAnVUEtIyMjIyMjIyMtIydcblxuICAgICMgU2V0dGluZyBhbnkgb3IgYWxsIG9mIHRoZXNlIHRocmVlIGZpZWxkcyBhcmUgb3B0aW9uYWwuXG4gICAgIyBJZiBzZXQgdGhlbiB0aGUgdmFsdWUocykgd2lsbCBiZSB1c2VkIGZvciBuZXcgdmlkZW8gdXBsb2FkcywgYW5kIHlvdXIgdXNlcnMgd29uJ3QgYmUgcHJvbXB0ZWQgZm9yIHRoZSBjb3JyZXNwb25kaW5nIGZpZWxkcyBvbiB0aGUgdmlkZW8gdXBsb2FkIGZvcm0uXG4gICAgI1ZJREVPX1RJVExFOiAnVmlkZW8gU3VibWlzc2lvbidcbiAgICAjVklERU9fREVTQ1JJUFRJT046ICdUaGlzIGlzIGEgdmlkZW8gc3VibWlzc2lvbi4nXG4gICAgIyBNYWtlIHN1cmUgdGhhdCB0aGlzIGNvcnJlc3BvbmRzIHRvIGFuIGFzc2lnbmFibGUgY2F0ZWdvcnkhXG4gICAgIyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20veW91dHViZS8yLjAvcmVmZXJlbmNlI1lvdVR1YmVfQ2F0ZWdvcnlfTGlzdFxuICAgIFZJREVPX0NBVEVHT1JZOiAnRWR1Y2F0aW9uJ1xuXG5jb25zdGFudHMgPVxuICAgIENBVEVHT1JJRVNfQ0FDSEVfRVhQSVJBVElPTl9NSU5VVEVTOiAzICogMjQgKiA2MCxcbiAgICBDQVRFR09SSUVTX0NBQ0hFX0tFWTogJ2NhdGVnb3JpZXMnXG4gICAgRElTUExBWV9OQU1FX0NBQ0hFX0tFWTogJ2Rpc3BsYXlfbmFtZSdcbiAgICBVUExPQURTX0xJU1RfSURfQ0FDSEVfS0VZOiAndXBsb2Fkc19saXN0X2lkJ1xuICAgIFBST0ZJTEVfUElDVFVSRV9DQUNIRV9LRVk6ICdwcm9maWxlX3BpY3R1cmUnXG4gICAgR0VORVJJQ19QUk9GSUxFX1BJQ1RVUkVfVVJMOiAnLy9zLnl0aW1nLmNvbS95dC9pbWcvbm9fdmlkZW9zXzE0MC12ZmwxZkRJNy0ucG5nJ1xuICAgIE9BVVRIMl9UT0tFTl9UWVBFOiAnQmVhcmVyJ1xuICAgIE9BVVRIMl9TQ09QRTogJ2h0dHBzOi8vZ2RhdGEueW91dHViZS5jb20nXG4gICAgR0RBVEFfU0VSVkVSOiAnaHR0cHM6Ly9nZGF0YS55b3V0dWJlLmNvbSdcbiAgICBDTElFTlRfTElCX0xPQURfQ0FMTEJBQ0s6ICdvbkNsaWVudExpYlJlYWR5J1xuICAgIENMSUVOVF9MSUJfVVJMOiAnaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50LmpzP29ubG9hZD0nXG4gICAgWU9VVFVCRV9BUElfU0VSVklDRV9OQU1FOiAneW91dHViZSdcbiAgICBZT1VUVUJFX0FQSV9WRVJTSU9OOiAndjMnXG4gICAgUEFHRV9TSVpFOiA1MFxuICAgIE1BWF9JVEVNU19UT19SRVRSSUVWRTogMjAwXG4gICAgRkVFRF9DQUNIRV9NSU5VVEVTOiA1XG4gICAgU1RBVEVfQ0FDSEVfTUlOVVRFUzogMTVcbiAgICBNQVhfS0VZV09SRF9MRU5HVEg6IDMwXG4gICAgS0VZV09SRF9VUERBVEVfWE1MX1RFTVBMQVRFOiAnPD94bWwgdmVyc2lvbj1cIjEuMFwiPz4gPGVudHJ5IHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwNS9BdG9tXCIgeG1sbnM6bWVkaWE9XCJodHRwOi8vc2VhcmNoLnlhaG9vLmNvbS9tcnNzL1wiIHhtbG5zOnl0PVwiaHR0cDovL2dkYXRhLnlvdXR1YmUuY29tL3NjaGVtYXMvMjAwN1wiIHhtbG5zOmdkPVwiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9nLzIwMDVcIiBnZDpmaWVsZHM9XCJtZWRpYTpncm91cC9tZWRpYTprZXl3b3Jkc1wiPiA8bWVkaWE6Z3JvdXA+IDxtZWRpYTprZXl3b3Jkcz57MH08L21lZGlhOmtleXdvcmRzPiA8L21lZGlhOmdyb3VwPiA8L2VudHJ5PidcbiAgICBXSURHRVRfRU1CRURfQ09ERTogJzxpZnJhbWUgd2lkdGg9XCI0MjBcIiBoZWlnaHQ9XCI1MDBcIiBzcmM9XCJ7MH0jcGxheWxpc3Q9ezF9XCI+PC9pZnJhbWU+J1xuICAgIFBMQVlMSVNUX0VNQkVEX0NPREU6ICc8aWZyYW1lIHdpZHRoPVwiNjQwXCIgaGVpZ2h0PVwiMzYwXCIgc3JjPVwiLy93d3cueW91dHViZS5jb20vZW1iZWQvP2xpc3RUeXBlPXBsYXlsaXN0Jmxpc3Q9ezB9JnNob3dpbmZvPTFcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+J1xuICAgIFNVQk1JU1NJT05fUlNTX0ZFRUQ6ICdodHRwczovL2dkYXRhLnlvdXR1YmUuY29tL2ZlZWRzL2FwaS92aWRlb3M/dj0yJmFsdD1yc3Mmb3JkZXJieT1wdWJsaXNoZWQmY2F0ZWdvcnk9JTdCaHR0cCUzQSUyRiUyRmdkYXRhLnlvdXR1YmUuY29tJTJGc2NoZW1hcyUyRjIwMDclMkZrZXl3b3Jkcy5jYXQlN0R7MH0nXG4gICAgREVGQVVMVF9LRVlXT1JEOiAneXRkbCdcbiAgICBXRUJDQU1fVklERU9fVElUTEU6ICdXZWJjYW0gU3VibWlzc2lvbidcbiAgICBXRUJDQU1fVklERU9fREVTQ1JJUFRJT046ICdVcGxvYWRlZCB2aWEgYSB3ZWJjYW0uJ1xuICAgIFJFSkVDVEVEX1ZJREVPU19QTEFZTElTVDogJ1JlamVjdGVkIFlUREwgU3VibWlzc2lvbnMnXG4gICAgTk9fVEhVTUJOQUlMX1VSTDogJy8vaS55dGltZy5jb20vdmkvaHFkZWZhdWx0LmpwZydcbiAgICBWSURFT19DT05UQUlORVJfVEVNUExBVEU6ICc8bGk+PGRpdiBjbGFzcz1cInZpZGVvLWNvbnRhaW5lciB7YWRkaXRpb25hbENsYXNzfVwiPjxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzdWJtaXQtdmlkZW8tYnV0dG9uXCIgdmFsdWU9XCJTdWJtaXQgVmlkZW9cIj48ZGl2PjxzcGFuIGNsYXNzPVwidmlkZW8tdGl0bGVcIj57dGl0bGV9PC9zcGFuPjxzcGFuIGNsYXNzPVwidmlkZW8tZHVyYXRpb25cIj4oe2R1cmF0aW9ufSk8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cInZpZGVvLXVwbG9hZGVkXCI+VXBsb2FkZWQgb24ge3VwbG9hZGVkRGF0ZX08L2Rpdj48ZGl2IGNsYXNzPVwidGh1bWJuYWlsLWNvbnRhaW5lclwiIGRhdGEtdmlkZW8taWQ9XCJ7dmlkZW9JZH1cIj48aW1nIHNyYz1cInt0aHVtYm5haWxVcmx9XCIgY2xhc3M9XCJ0aHVtYm5haWwtaW1hZ2VcIj48aW1nIHNyYz1cImltYWdlcy9wbGF5LnBuZ1wiIGNsYXNzPVwicGxheS1vdmVybGF5XCI+PC9kaXY+PC9kaXY+PC9saT4nXG4gICAgVklERU9fTElfVEVNUExBVEU6ICc8bGk+PGRpdiBjbGFzcz1cInZpZGVvLWNvbnRhaW5lciB7MH1cIj48aW5wdXQgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic3VibWl0LXZpZGVvLWJ1dHRvblwiIGRhdGEtdmlkZW8taWQ9XCJ7MX1cIiBkYXRhLWV4aXN0aW5nLWtleXdvcmRzPVwiezJ9XCIgdmFsdWU9XCJTdWJtaXQgVmlkZW9cIj48ZGl2PjxzcGFuIGNsYXNzPVwidmlkZW8tdGl0bGVcIj57M308L3NwYW4+PHNwYW4gY2xhc3M9XCJ2aWRlby1kdXJhdGlvblwiPih7NX0pPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJ2aWRlby11cGxvYWRlZFwiPlVwbG9hZGVkIG9uIHs0fTwvZGl2PjxkaXYgY2xhc3M9XCJ0aHVtYm5haWwtY29udGFpbmVyXCIgZGF0YS12aWRlby1pZD1cInsxfVwiPjxpbWcgc3JjPVwiezZ9XCIgY2xhc3M9XCJ0aHVtYm5haWwtaW1hZ2VcIj48aW1nIHNyYz1cIi4vaW1hZ2VzL3BsYXkucG5nXCIgY2xhc3M9XCJwbGF5LW92ZXJsYXlcIj48L2Rpdj48L2Rpdj48L2xpPidcbiAgICBBRE1JTl9WSURFT19MSV9URU1QTEFURTogJzxsaT48ZGl2IGNsYXNzPVwidmlkZW8tY29udGFpbmVyXCI+e2J1dHRvbnNIdG1sfTxkaXY+PHNwYW4gY2xhc3M9XCJ2aWRlby10aXRsZVwiPnt0aXRsZX08L3NwYW4+PHNwYW4gY2xhc3M9XCJ2aWRlby1kdXJhdGlvblwiPih7ZHVyYXRpb259KTwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwidmlkZW8tdXBsb2FkZWRcIj5VcGxvYWRlZCBvbiB7dXBsb2FkZWREYXRlfSBieSB7dXBsb2FkZXJ9PC9kaXY+PGRpdiBjbGFzcz1cInRodW1ibmFpbC1jb250YWluZXJcIiBkYXRhLXZpZGVvLWlkPVwie3ZpZGVvSWR9XCI+PGltZyBzcmM9XCJ7dGh1bWJuYWlsVXJsfVwiIGNsYXNzPVwidGh1bWJuYWlsLWltYWdlXCI+PGltZyBzcmM9XCIuL2ltYWdlcy9wbGF5LnBuZ1wiIGNsYXNzPVwicGxheS1vdmVybGF5XCI+PC9kaXY+PC9kaXY+PC9saT4nXG4gICAgUExBWUxJU1RfTElfVEVNUExBVEU6ICc8bGkgZGF0YS1wbGF5bGlzdC1uYW1lPVwie3BsYXlsaXN0TmFtZX1cIiBkYXRhLXN0YXRlPVwiZW1iZWQtY29kZXNcIiBkYXRhLXBsYXlsaXN0LWlkPVwie3BsYXlsaXN0SWR9XCI+e3BsYXlsaXN0TmFtZX08L2xpPidcblxud2ViY2FtID1cbiAgICBpbml0OiAoKSAtPlxuICAgICAgICBpZiBub3QgWVQ/IG9yIG5vdCBZVC5VcGxvYWRXaWRnZXQ/XG4gICAgICAgICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSAtPlxuICAgICAgICAgICAgICAgIHdlYmNhbS5sb2FkVXBsb2FkV2lkZ2V0KClcbiAgICAgICAgICAgICQuZ2V0U2NyaXB0KCcvL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpJylcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgd2ViY2FtLmxvYWRVcGxvYWRXaWRnZXQoKVxuXG4gICAgbG9hZFVwbG9hZFdpZGdldDogKCkgLT5cbiAgICAgICAgbmV3IFlULlVwbG9hZFdpZGdldCgnd2ViY2FtLXdpZGdldCcsXG4gICAgICAgICAgICB3ZWJjYW1Pbmx5OiB0cnVlXG4gICAgICAgICAgICBldmVudHM6XG4gICAgICAgICAgICAgICAgb25BcGlSZWFkeTogKGV2ZW50KSAtPlxuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc2V0VmlkZW9UaXRsZShjb25maWcuVklERU9fVElUTEUgb3IgY29uc3RhbnRzLldFQkNBTV9WSURFT19USVRMRSlcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNldFZpZGVvRGVzY3JpcHRpb24oY29uZmlnLlZJREVPX0RFU0NSSVBUSU9OIG9yIGNvbnN0YW50cy5XRUJDQU1fVklERU9fREVTQ1JJUFRJT04pXG4gICAgICAgICAgICAgICAgICAgICMgZXZlbnQudGFyZ2V0LnNldFZpZGVvS2V5d29yZHMoW3V0aWxzLmdlbmVyYXRlS2V5d29yZEZyb21QbGF5bGlzdElkKGdsb2JhbHMuaGFzaFBhcmFtcy5wbGF5bGlzdCldKVxuXG4gICAgICAgICAgICAgICAgb25VcGxvYWRTdWNjZXNzOiAoZXZlbnQpIC0+XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2ViY2FtIHN1Ym1pc3Npb24gc3VjY2VzcyFcIilcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpXG4gICAgICAgICAgICAgICAgICAgICQoJyN5b3V0dWJlX2lkJykudmFsKGV2ZW50LmRhdGEudmlkZW9JZClcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LlZJRFJFQ09SREVSLmNsb3NlKClcblxuICAgICAgICAgICAgICAgICAgICAjIHV0aWxzLmFkZFZpZGVvVG9QbGF5bGlzdChcIlBlbmRpbmdcIiwgZXZlbnQuZGF0YS52aWRlb0lkKVxuXG4gICAgICAgICAgICAgICAgb25TdGF0ZUNoYW5nZTogKGV2ZW50KSAtPlxuICAgICAgICAgICAgICAgICAgICBpZiBldmVudC5kYXRhLnN0YXRlID09IFlULlVwbG9hZFdpZGdldFN0YXRlLkVSUk9SXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiV2ViY2FtIHN1Ym1pc3Npb24gZXJyb3IhXCIpXG4gICAgICAgIClcblxudXRpbHMgPVxuICAgIGl0ZW1zSW5SZXNwb25zZTogKHJlc3BvbnNlKSAtPlxuICAgICAgICByZXR1cm4gKCdpdGVtcycgaW4gcmVzcG9uc2UgYW5kIHJlc3BvbnNlLml0ZW1zLmxlbmd0aCA+IDApXG5cbiAgICAjIGFkZFZpZGVvVG9QbGF5bGlzdDogKHBsYXlsaXN0SWQsIHZpZGVvSWQpIC0+XG4gICAgIyAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gYWRkIHZpZGVvIHRvIHBsYXlsaXN0IVwiKVxuICAgICMgICAgIGNvbnNvbGUubG9nKHZpZGVvSWQpXG4gICAgIyAgICAgY29uc29sZS5sb2cocGxheWxpc3RJZClcblxuICAgICMgICAgIGxzY2FjaGUucmVtb3ZlKGNvbnN0YW50cy5HREFUQV9TRVJWRVIgKyAnL2ZlZWRzL2FwaS91c2Vycy9kZWZhdWx0L3BsYXlsaXN0cycpXG4gICAgIyAgICAgbHNjYWNoZS5yZW1vdmUocGxheWxpc3RJZClcblxuICAgICMgICAgIHJlcXVlc3QgPSBnYXBpLmNsaWVudC55b3V0dWJlLnBsYXlsaXN0SXRlbXMuaW5zZXJ0KFxuICAgICMgICAgICAgICAgICAgcGFydDogJ3NuaXBwZXQnXG4gICAgIyAgICAgICAgICAgICByZXNvdXJjZTpcbiAgICAjICAgICAgICAgICAgICAgICBzbmlwcGV0OlxuICAgICMgICAgICAgICAgICAgICAgICAgICBwbGF5bGlzdElkOiBwbGF5bGlzdElkXG4gICAgIyAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlSWQ6XG4gICAgIyAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAneW91dHViZSN2aWRlbydcbiAgICAjICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWRcbiAgICAjICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IDBcbiAgICAjICAgICApXG5cbiAgICAjICAgICByZXF1ZXN0LmV4ZWN1dGUoKHJlc3BvbnNlKSAtPlxuICAgICMgICAgICAgICBpZiAnZXJyb3InIGluIHJlc3BvbnNlXG4gICAgIyAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5lcnJvcilcbiAgICAjICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBhZGQgdmlkZW8gcGxheWxpc3QuICcpXG4gICAgIyAgICAgICAgIGVsc2VcbiAgICAjICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzIGFkZGluZyB2aWRlbyB0byBwbGF5bGlzdCEnKVxuICAgICMgICAgIClcblxuYXV0aCA9XG4gICAgaW5pdEF1dGg6ICgpIC0+XG4gICAgICAgIHdpbmRvd1tjb25zdGFudHMuQ0xJRU5UX0xJQl9MT0FEX0NBTExCQUNLXSA9ICgpIC0+XG4gICAgICAgICAgICBnYXBpLmF1dGguaW5pdCgoKSAtPlxuICAgICAgICAgICAgICAgIGlmIGxzY2FjaGUuZ2V0KGNvbnN0YW50cy5ESVNQTEFZX05BTUVfQ0FDSEVfS0VZKSAjIEZJWE1FXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpIC0+XG4gICAgICAgICAgICAgICAgICAgICAgICBnYXBpLmF1dGguYXV0aG9yaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9pZDogY29uZmlnLk9BVVRIMl9DTElFTlRfSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogW2NvbnN0YW50cy5PQVVUSDJfU0NPUEVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAsIGF1dGgub25BdXRoUmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAsIDEpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhdXRoIHNjcmlwdCBsYXVuY2hlZCcpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVxdWVzdGluZyBZVCBsb2dpbicpXG4gICAgICAgICAgICAgICAgICAgICMgZ2FwaS5hdXRoLmF1dGhvcml6ZSh7XG4gICAgICAgICAgICAgICAgICAgICMgICAgIGNsaWVudF9pZDogY29uZmlnLk9BVVRIMl9DTElFTlRfSURcbiAgICAgICAgICAgICAgICAgICAgIyAgICAgc2NvcGU6IFtjb25zdGFudHMuT0FVVEgyX1NDT1BFXVxuICAgICAgICAgICAgICAgICAgICAjICAgICBpbW1lZGlhdGU6IGZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAjICAgICAsIGF1dGgub25BdXRoUmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICMgKVxuICAgICAgICAgICAgKVxuICAgICAgICAkLmdldFNjcmlwdChjb25zdGFudHMuQ0xJRU5UX0xJQl9VUkwgKyBjb25zdGFudHMuQ0xJRU5UX0xJQl9MT0FEX0NBTExCQUNLKVxuXG4gICAgb25BdXRoUmVzdWx0OiAoYXV0aFJlc3VsdCkgLT5cbiAgICAgICAgaWYgYXV0aFJlc3VsdFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dvdCBhdXRoIHJlc3VsdCcsIGF1dGhSZXN1bHQpXG4gICAgICAgICAgICBnYXBpLmNsaWVudC5sb2FkKGNvbnN0YW50cy5ZT1VUVUJFX0FQSV9TRVJWSUNFX05BTUUsIGNvbnN0YW50cy5ZT1VUVUJFX0FQSV9WRVJTSU9OLCBhdXRoLm9uWW91VHViZUNsaWVudExvYWQpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoIGZhaWxlZCcpXG4gICAgICAgICAgICBsc2NhY2hlLmZsdXNoKCkgIyBGSVhNRVxuICAgICAgICAgICAgIyB1dGlscy5yZWRpcmVjdCgnbG9naW4nKVxuXG4gICAgb25Zb3VUdWJlQ2xpZW50TG9hZDogKCkgLT5cbiAgICAgICAgIyAgIHZhciBuZXh0U3RhdGUgPSBnbG9iYWxzLmhhc2hQYXJhbXMuc3RhdGUgfHwgJyc7XG4gICAgICAgICMgICBpZiAobmV4dFN0YXRlID09ICdsb2dpbicpIHtcbiAgICAgICAgIyAgICAgbmV4dFN0YXRlID0gJyc7XG4gICAgICAgICMgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCdZb3V0dWJlIGNsaWVudCBsb2FkZWQhJylcbiAgICAgICAgaWYgbHNjYWNoZS5nZXQoY29uc3RhbnRzLkRJU1BMQVlfTkFNRV9DQUNIRV9LRVkpICMgRklYTUVcbiAgICAgICAgICAgICMgdXRpbHMucmVkaXJlY3QobmV4dFN0YXRlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVxdWVzdCA9IGdhcGkuY2xpZW50W2NvbnN0YW50cy5ZT1VUVUJFX0FQSV9TRVJWSUNFX05BTUVdLmNoYW5uZWxzLmxpc3QoXG4gICAgICAgICAgICAgICAgbWluZTogdHJ1ZVxuICAgICAgICAgICAgICAgIHBhcnQ6ICdzbmlwcGV0LGNvbnRlbnREZXRhaWxzLHN0YXR1cydcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJlcXVlc3QuZXhlY3V0ZSggKHJlc3BvbnNlKSAtPlxuICAgICAgICAgICAgICAgIGlmIHV0aWxzLml0ZW1zSW5SZXNwb25zZShyZXNwb25zZSkgIyBGSVhNRVxuICAgICAgICAgICAgICAgICAgICBpZiByZXNwb25zZS5pdGVtc1swXS5zdGF0dXMuaXNMaW5rZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGxzY2FjaGUuc2V0KGNvbnN0YW50cy5VUExPQURTX0xJU1RfSURfQ0FDSEVfS0VZLCByZXNwb25zZS5pdGVtc1swXS5jb250ZW50RGV0YWlscy5yZWxhdGVkUGxheWxpc3RzLnVwbG9hZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBsc2NhY2hlLnNldChjb25zdGFudHMuRElTUExBWV9OQU1FX0NBQ0hFX0tFWSwgcmVzcG9uc2UuaXRlbXNbMF0uc25pcHBldC50aXRsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGxzY2FjaGUuc2V0KGNvbnN0YW50cy5QUk9GSUxFX1BJQ1RVUkVfQ0FDSEVfS0VZLCByZXNwb25zZS5pdGVtc1swXS5zbmlwcGV0LnRodW1ibmFpbHMuZGVmYXVsdC51cmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAjIHV0aWxzLnJlZGlyZWN0KG5leHRTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignWW91ciBhY2NvdW50IGNhbm5vdCB1cGxvYWQgdmlkZW9zLiBQbGVhc2UgdmlzaXQgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3NpZ25pbj9uZXh0PS9jcmVhdGVfY2hhbm5lbFwiPmh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3NpZ25pbj9uZXh0PS9jcmVhdGVfY2hhbm5lbDwvYT4gdG8gYWRkIGEgWW91VHViZSBjaGFubmVsIHRvIHlvdXIgYWNjb3VudCwgYW5kIHRyeSBhZ2Fpbi4nKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gcmV0cmlldmUgY2hhbm5lbCBpbmZvLlwiKVxuICAgICAgICAgICAgKVxuXG5kb2VzX21lZXRfcmVxdWlyZW1lbnRzID0gLT5cbiAgICBpZiBub3QgJC5zdXBwb3J0LmNvcnNcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkJyb3dzZXIgbm90IHN1cHBvcnRlZCFcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG5cbmV4cG9ydHMuc2V0dXAgPSAtPlxuICAgIGlmIG5vdCBjb25maWcuT0FVVEgyX0NMSUVOVF9JRCBvciBub3QgY29uZmlnLkRFVkVMT1BFUl9LRVlcbiAgICAgICAgY29uc29sZS5sb2coXCJOT1QgQ09ORklHVVJFRCFcIilcbiAgICBlbHNlXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZmlndXJlZCFcIilcbiAgICAgICAgaWYgZG9lc19tZWV0X3JlcXVpcmVtZW50c1xuICAgICAgICAgICAgYXV0aC5pbml0QXV0aCgpXG4gICAgICAgICAgICB3ZWJjYW0uaW5pdCgpXG4iLCJcbnNpdGVVcmwgPSAnaHR0cDovL3d3dy50aGFuay1hLXRlYWNoZXIub3JnJ1xuXG5zZXR1cEZhY2Vib29rID0gLT5cbiAgICAkLmdldFNjcmlwdCAnLy9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VSy9hbGwuanMnLCAtPlxuICAgICAgICBGQi5pbml0IHthcHBJZDogJzE0NDQ5NTQ2ODU3MzUxNzYnfVxuXG4gICAgJCgnI3NoYXJlLWZhY2Vib29rJykuY2xpY2sgLT5cbiAgICAgICAgRkIudWlcbiAgICAgICAgICAgIG1ldGhvZDogJ2ZlZWQnLFxuICAgICAgICAgICAgbGluazogc2l0ZVVybCxcbiAgICAgICAgICAgIGNhcHRpb246ICdUaGFuayBhIHRlYWNoZXIhJ1xuXG5zZXR1cFR3aXR0ZXIgPSAtPlxuICAgIGVuY29kZWQgPSBlbmNvZGVVUklDb21wb25lbnQgc2l0ZVVybFxuICAgIHR3aXR0ZXJVcmwgPSBcImh0dHBzOi8vdHdpdHRlci5jb20vc2hhcmU/dXJsPSN7ZW5jb2RlZH0mdmlhPXdtbWVkdVwiXG4gICAgJCgnI3NoYXJlLXR3aXR0ZXInKVxuICAgICAgICAuYXR0ciAnaHJlZicsIHR3aXR0ZXJVcmxcbiAgICAgICAgLmF0dHIgJ3RhcmdldCcsICdfYmxhbmsnXG5cbmV4cG9ydHMuc2V0dXAgPSAtPlxuICAgIHNldHVwRmFjZWJvb2soKVxuICAgIHNldHVwVHdpdHRlcigpXG4gICAgIl19
