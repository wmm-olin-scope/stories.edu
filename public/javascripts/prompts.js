// Generated by CoffeeScript 1.6.3
(function() {
  var clearEditor, deletePrompt, putPrompt, setup;

  setup = function() {
    $('#editor').summernote({
      height: 300,
      focus: true
    });
    $('#create').click(function() {
      return putPrompt($('#editor').code());
    });
    $('#clear').click(function() {
      return clearEditor();
    });
    return $('.delete-prompt').click(function() {
      return deletePrompt($(this).attr('data-prompt-id'));
    });
  };

  clearEditor = function() {
    return $('#editor').code('');
  };

  deletePrompt = function(id) {
    return $.ajax({
      url: "/prompts/" + id,
      type: 'DELETE'
    }).fail(function() {
      return console.log('Failed to delete!');
    }).done(function(res) {
      return location.reload(true);
    });
  };

  putPrompt = function(prompt) {
    var req;
    req = {
      url: '/prompts/',
      type: 'PUT',
      data: {
        prompt: prompt
      }
    };
    return $.ajax(req).fail(function() {
      return console.log('Failed to put!');
    }).done(function(res) {
      return location.reload(true);
    });
  };

  $(setup);

}).call(this);
